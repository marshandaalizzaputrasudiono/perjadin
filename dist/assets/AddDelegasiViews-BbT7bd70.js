import{A,f as J,h as c,g as E,B as V,c as i,a,l as o,v as s,F as C,y as N,t as d,m as u,x as f,S as y,o as r}from"./index-BxGB1RNf.js";const F={class:"card"},K=a("h4",{class:"card-header fw-bold text-dark"},"Form Pendelegasian Pegawai",-1),$={class:"card-body"},Y={class:"accordion accordion-flush",id:"accordionFlushExample"},q={class:"accordion-item"},G=a("h2",{class:"accordion-header"},[a("button",{class:"accordion-button px-0 bg-transparent text-dark fw-bold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"true","aria-controls":"flush-collapseOne"},[a("span",{class:"rounded-circle fs-1 text-bg-primary me-2 d-flex justify-content-center align-items-center",style:{width:"25px",height:"25px"}},"1"),u(" Pilih Nomor ST ")])],-1),Q={id:"flush-collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#accordionFlushExample"},W={class:"accordion-body px-0"},X={key:0,class:"list-group"},Z=["onClick"],aa={key:0},ea=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-check text-success"},[a("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})],-1),ta=[ea],la={key:1,class:"text-center"},oa={class:"accordion-item"},sa=a("h2",{class:"accordion-header"},[a("button",{class:"accordion-button px-0 bg-transparent text-dark fw-bold collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo"},[a("span",{class:"rounded-circle fs-1 text-bg-primary me-2 d-flex justify-content-center align-items-center",style:{width:"25px",height:"25px"}},"2"),u(" Pilih Nomor SPPD "),a("sup",{class:"text-info ms-1"},"*Opsional")])],-1),na={id:"flush-collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},ia={class:"accordion-body px-0"},ra={key:0,class:"list-group"},ca=["onClick"],da={key:0},ua=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-check text-success"},[a("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})],-1),pa=[ua],ha={key:1,class:"text-center"},ma={class:"accordion-item"},va=a("h2",{class:"accordion-header"},[a("button",{class:"accordion-button px-0 bg-transparent text-dark fw-bold collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseThree","aria-expanded":"false","aria-controls":"flush-collapseThree"},[a("span",{class:"rounded-circle fs-1 text-bg-primary me-2 d-flex justify-content-center align-items-center",style:{width:"25px",height:"25px"}},"3"),u(" Pilih Pegawai ")])],-1),_a={id:"flush-collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},ba={class:"accordion-body px-0"},ga={key:0,class:"list-group"},fa=["onClick"],ya={key:0},ka=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-check text-success"},[a("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})],-1),xa=[ka],wa={key:1,class:"text-center"},Pa={key:0,class:"card mt-4",ref:"reviewSection"},Da=a("h4",{class:"card-header fw-bold text-dark"},"Review Pilihan",-1),Ta={class:"card-body"},Sa=a("strong",null,"NO ST",-1),Va=a("strong",null,"NO SPPD",-1),Ca=a("strong",null,"Nama Pegawai",-1),Na={class:"mt-4"},Ba=a("h5",{class:"mb-3"},"Input Biaya Sarana dan Prasarana",-1),Ma={class:"card mb-3"},Ua=a("div",{class:"card-header"},"Hotel/Penginapan",-1),La={class:"card-body"},Ra={class:"mb-3"},Ha=a("label",{for:"hotelName",class:"form-label"},"Nama Hotel/Penginapan",-1),ja={class:"mb-3"},za=a("label",{for:"hotelVoucher",class:"form-label"},"No Voucher/Invoice Hotel",-1),Ia={class:"card mb-3"},Oa=a("div",{class:"card-header"},"Transportasi",-1),Aa={class:"card-body"},Ja={class:"mb-3"},Ea=a("label",{for:"transportationType",class:"form-label"},"Jenis Transportasi",-1),Fa={class:"mb-3"},Ka=a("label",{for:"bookingCode",class:"form-label"},"Kode Booking",-1),$a={class:"mb-3"},Ya=a("label",{for:"seatNumber",class:"form-label"},"Nomor Kursi",-1),qa={class:"mb-3"},Ga=a("label",{for:"pricePP",class:"form-label"},"Harga PP",-1),Qa={class:"mb-3"},Wa=a("label",{for:"priceDeparture",class:"form-label"},"Harga Tiket Berangkat",-1),Xa={class:"mb-3"},Za=a("label",{for:"priceReturn",class:"form-label"},"Harga Tiket Pulang",-1),ae={class:"card mb-3"},ee=a("div",{class:"card-header"},"Penginapan",-1),te={class:"card-body"},le={class:"mb-3"},oe=a("label",{for:"rate",class:"form-label"},"Tarif Satuan Penginapan",-1),se={class:"mb-3"},ne=a("label",{for:"numDays",class:"form-label"},"Jumlah Hari/Malam",-1),ie={class:"mb-3"},re=a("label",{for:"totalAccommodation",class:"form-label"},"Jumlah Harga Penginapan",-1),ce={class:"card mb-3"},de=a("div",{class:"card-header"},"Uang Harian",-1),ue={class:"card-body"},pe={class:"mb-3"},he=a("label",{for:"dailyRate",class:"form-label"},"Satuan Uang Harian (Rp)",-1),me={class:"mb-3"},ve=a("label",{for:"dailyNumDays",class:"form-label"},"Jumlah Hari",-1),_e={class:"mb-3"},be=a("label",{for:"totalDaily",class:"form-label"},"Total Uang Harian",-1),ge={class:"card mb-3"},fe=a("div",{class:"card-header"},"Biaya Lainnya (bila ada)",-1),ye={class:"card-body"},ke={class:"mb-3"},xe=a("label",{for:"uraian",class:"form-label"},"Keterangan",-1),we={class:"mb-3"},Pe=a("label",{for:"dailyNumDays",class:"form-label"},"Jumlah",-1),Se={__name:"AddDelegasiViews",setup(De){const{proxy:_}=A(),k=J(),x=c([]),w=c([]),P=c([]),h=c(!0);E(async()=>{try{x.value=await k.fetchData("suratTugas"),w.value=await k.fetchData("sppd"),P.value=await k.fetchData("pegawai"),h.value=!h.value}catch(n){console.error("Error fetching data from IDB:",n),h.value=!h.value}});const D=c(""),T=c(""),S=c(""),b=c(null),v=c([]),m=c([]),B=V(()=>x.value.length?x.value.filter(n=>n.noST.toLowerCase().includes(D.value.toLowerCase())):[]),M=V(()=>w.value.length?w.value.filter(n=>n.noSPPD.toLowerCase().includes(T.value.toLowerCase())):[]),U=V(()=>P.value.length?P.value.filter(n=>n.namaPegawai.toLowerCase().includes(S.value.toLowerCase())):[]),R=n=>{b.value=n},H=n=>{const t=v.value.indexOf(n);t>-1?v.value.splice(t,1):v.value.push(n)},j=n=>{const t=m.value.indexOf(n);t>-1?m.value.splice(t,1):m.value.push(n)},l=c({hotelName:"",hotelVoucher:"",transportationType:"",bookingCode:"",seatNumber:"",pricePP:0,priceDeparture:0,priceReturn:0,totalPrice:0,rate:0,numDays:0,totalAccommodation:0,dailyRate:0,dailyNumDays:0,totalDaily:0,biayaLainnyaKeterangan:"",biayaLainnyaJumlah:0}),g=c(null),z=()=>{g.value.style.height="auto",g.value.style.height=`${g.value.scrollHeight}px`},I=async()=>{if((await y.fire({title:"Apakah data sudah betul?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",cancelButtonColor:"red"})).isConfirmed){let t=0;const{value:e}=await y.fire({title:"Total Dana Yang Diterima",input:"text",inputValue:_.formatRupiah(t),inputValidator:p=>{if(!p)return"Input tidak boleh kosong";if(isNaN(_.unformatRupiah(p)))return"Input harus berupa angka"},showCancelButton:!0,confirmButtonText:"Lanjut",cancelButtonText:"Batal",cancelButtonColor:"red",didOpen:()=>{y.getInput().addEventListener("input",L=>{const O=L.target.value.replace(/[^0-9,]/g,"");L.target.value=_.formatRupiah(_.unformatRupiah(O))})}});if(e){y.fire({icon:"success",title:"Sek Sabar, gorong mari ...wkwkw"});const p=_.unformatRupiah(e);console.log(p)}}};return(n,t)=>(r(),i("div",null,[a("div",F,[K,a("div",$,[a("div",Y,[a("div",q,[G,a("div",Q,[a("div",W,[o(a("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>D.value=e),class:"form-control mb-3",type:"text",placeholder:"Cari ST..."},null,512),[[s,D.value]]),B.value.length?(r(),i("ul",X,[(r(!0),i(C,null,N(B.value,e=>(r(),i("li",{key:e.id,class:"list-group-item d-flex justify-content-between align-items-center",onClick:p=>R(e),style:{cursor:"pointer"}},[u(d(e.noST)+" ",1),b.value===e?(r(),i("span",aa,ta)):f("",!0)],8,Z))),128))])):(r(),i("div",la,d(h.value?"Loading":"Data ST masih kosong"),1))])])]),a("div",oa,[sa,a("div",na,[a("div",ia,[o(a("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>T.value=e),class:"form-control mb-3",type:"text",placeholder:"Cari SPPD..."},null,512),[[s,T.value]]),M.value.length?(r(),i("ul",ra,[(r(!0),i(C,null,N(M.value,e=>(r(),i("li",{key:e.id,class:"list-group-item d-flex justify-content-between align-items-center",onClick:p=>H(e),style:{cursor:"pointer"}},[u(d(e.noSPPD)+" ",1),v.value.includes(e)?(r(),i("span",da,pa)):f("",!0)],8,ca))),128))])):(r(),i("div",ha,d(h.value?"Loading":"Data SPPD masih kosong"),1))])])]),a("div",ma,[va,a("div",_a,[a("div",ba,[o(a("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>S.value=e),class:"form-control mb-3",type:"text",placeholder:"Cari Pegawai..."},null,512),[[s,S.value]]),U.value.length?(r(),i("ul",ga,[(r(!0),i(C,null,N(U.value,e=>(r(),i("li",{key:e.id,class:"list-group-item d-flex justify-content-between align-items-center",onClick:p=>j(e),style:{cursor:"pointer"}},[u(d(e.namaPegawai)+" ",1),m.value.includes(e)?(r(),i("span",ya,xa)):f("",!0)],8,fa))),128))])):(r(),i("div",wa,d(h.value?"Loading":"Data Pegawai masih kosong"),1))])])])])])]),b.value&&m.value.length?(r(),i("div",Pa,[Da,a("div",Ta,[a("p",null,[Sa,u(" : "+d(b.value?b.value.noST:"Belum ada"),1)]),a("p",null,[Va,u(" : "+d(v.value.length?v.value.map(e=>e.noSPPD).join(", "):"Belum ada"),1)]),a("p",null,[Ca,u(" : "+d(m.value.length?m.value.map(e=>e.namaPegawai).join(", "):"Belum ada"),1)]),a("div",Na,[Ba,a("div",Ma,[Ua,a("div",La,[a("div",Ra,[Ha,o(a("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.value.hotelName=e),type:"text",class:"form-control",id:"hotelName",placeholder:"Masukkan nama hotel/penginapan"},null,512),[[s,l.value.hotelName]])]),a("div",ja,[za,o(a("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.value.hotelVoucher=e),type:"text",class:"form-control",id:"hotelVoucher",placeholder:"Masukkan no voucher/invoice hotel"},null,512),[[s,l.value.hotelVoucher]])])])]),a("div",Ia,[Oa,a("div",Aa,[a("div",Ja,[Ea,o(a("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.value.transportationType=e),type:"text",class:"form-control",id:"transportationType",placeholder:"Masukkan jenis transportasi"},null,512),[[s,l.value.transportationType]])]),a("div",Fa,[Ka,o(a("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.value.bookingCode=e),type:"text",class:"form-control",id:"bookingCode",placeholder:"Masukkan kode booking"},null,512),[[s,l.value.bookingCode]])]),a("div",$a,[Ya,o(a("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.value.seatNumber=e),type:"text",class:"form-control",id:"seatNumber",placeholder:"Masukkan nomor kursi"},null,512),[[s,l.value.seatNumber]])]),a("div",qa,[Ga,o(a("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.value.pricePP=e),type:"number",class:"form-control",id:"pricePP",placeholder:"Masukkan harga PP"},null,512),[[s,l.value.pricePP]])]),a("div",Qa,[Wa,o(a("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.value.priceDeparture=e),type:"number",class:"form-control",id:"priceDeparture",placeholder:"Masukkan harga tiket berangkat"},null,512),[[s,l.value.priceDeparture]])]),a("div",Xa,[Za,o(a("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.value.priceReturn=e),type:"number",class:"form-control",id:"priceReturn",placeholder:"Masukkan harga tiket pulang"},null,512),[[s,l.value.priceReturn]])])])]),a("div",ae,[ee,a("div",te,[a("div",le,[oe,o(a("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.value.rate=e),type:"number",class:"form-control",id:"rate",placeholder:"Masukkan tarif satuan penginapan"},null,512),[[s,l.value.rate]])]),a("div",se,[ne,o(a("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.value.numDays=e),type:"number",class:"form-control",id:"numDays",placeholder:"Masukkan jumlah hari/malam"},null,512),[[s,l.value.numDays]])]),a("div",ie,[re,o(a("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.value.totalAccommodation=e),type:"number",class:"form-control",id:"totalAccommodation",placeholder:"Masukkan jumlah harga penginapan"},null,512),[[s,l.value.totalAccommodation]])])])]),a("div",ce,[de,a("div",ue,[a("div",pe,[he,o(a("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>l.value.dailyRate=e),type:"number",class:"form-control",id:"dailyRate",placeholder:"Masukkan satuan uang harian"},null,512),[[s,l.value.dailyRate]])]),a("div",me,[ve,o(a("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>l.value.dailyNumDays=e),type:"number",class:"form-control",id:"dailyNumDays",placeholder:"Masukkan jumlah hari"},null,512),[[s,l.value.dailyNumDays]])]),a("div",_e,[be,o(a("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>l.value.totalDaily=e),type:"number",class:"form-control",id:"totalDaily",placeholder:"Masukkan total uang harian"},null,512),[[s,l.value.totalDaily]])])])]),a("div",ge,[fe,a("div",ye,[a("div",ke,[xe,o(a("textarea",{id:"uraian","onUpdate:modelValue":t[17]||(t[17]=e=>l.value.biayaLainnyaKeterangan=e),class:"form-control",placeholder:"Isikan Keterangan Biaya Lainnya disini...",rows:"1",ref_key:"autoResizeTextarea",ref:g,onInput:z},null,544),[[s,l.value.biayaLainnyaKeterangan]])]),a("div",we,[Pe,o(a("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>l.value.biayaLainnyaJumlah=e),type:"number",class:"form-control",id:"dailyNumDays",placeholder:"Masukkan jumlah hari"},null,512),[[s,l.value.biayaLainnyaJumlah]])])])]),a("button",{type:"button",onClick:I,class:"btn-save mt-3"},"Save")])])],512)):f("",!0)]))}};export{Se as default};
