import{f as g,h as _,g as p,r as f,c as e,a as t,b as x,w as D,F as v,y,t as c,o as a,m as C,S as k}from"./index-CK8Snm4l.js";import{T as d}from"./ToastAlert-DnIDCT_h.js";const w={class:"card"},P={class:"card-body"},S=t("h4",{class:"card-title mb-4"},"List Pendelegasian Pegawai",-1),T={class:"table-responsive"},B={class:"table table-striped table-bordered"},I=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"NO ST"),t("th",{scope:"col"},"NO SPPD"),t("th",{scope:"col"},"Jumlah Pegawai"),t("th",{scope:"col",class:"text-center"},"Action")])],-1),N={key:0},V=["textContent"],j=["textContent"],E=["textContent"],L={class:"text-center"},$=["onClick"],F=t("button",{class:"btn-sm btn-warning btn"},"Edit",-1),H=t("button",{class:"btn-sm btn-info btn"},"Detail",-1),O={key:1},q={colspan:"4",class:"text-center"},s="delegasiPegawai",Y={__name:"DelegasiViews",setup(A){const i=g(),o=_([]),r=_(!0);p(async()=>{console.log("onmounted delegasi"),o.value=await i.fetchData(s),r.value=!r.value});const h=async u=>{if((await k.fire({title:`Hapus Data ${s}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",cancelButtonColor:"red"})).isConfirmed)try{await i.deleteItemById(s,u)?(d.fire({icon:"success",title:`Data ${s} berhasil dihapus`}),o.value=await i.fetchData(s)):d.fire({icon:"error",title:"Gagal menghapus data"})}catch(n){console.error("Error deleting item:",n),d.fire({icon:"error",title:"Terjadi kesalahan saat menghapus data"})}};return(u,m)=>{const n=f("router-link");return a(),e("div",w,[t("div",P,[S,x(n,{to:{name:"addDelegasi"},class:"btn btn-primary mb-4"},{default:D(()=>[C("Tambah Data")]),_:1}),t("div",T,[t("table",B,[I,o.value.length>0?(a(),e("tbody",N,[(a(!0),e(v,null,y(o.value,(l,b)=>(a(),e("tr",{key:b},[t("td",{textContent:c(l.noST)},null,8,V),t("td",{textContent:c(l.noSPPD)},null,8,j),t("td",{textContent:c(l.jumlahPegawai)},null,8,E),t("td",L,[t("button",{class:"btn-danger btn me-2 btn-sm",onClick:G=>h(l.id)}," Hapus ",8,$),F,H])]))),128))])):(a(),e("tbody",O,[t("tr",null,[t("td",q,c(r.value?"Loading Data...":"Data masih kosong"),1)])]))])])])])}}};export{Y as default};
