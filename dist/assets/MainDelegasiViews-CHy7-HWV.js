import{f as v,h,g as x,r as T,c as e,a as t,b as m,w as b,F as g,y as p,t as c,o as a,m as f,n as P,S as C}from"./index-DuWg9Xy8.js";import{T as d}from"./ToastAlert-CYv91mmM.js";const w={class:"card"},B={class:"card-body"},I=t("h4",{class:"card-title mb-4"},"List Pendelegasian Pegawai",-1),N={class:"table-responsive"},V={class:"table table-striped table-bordered"},E=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"NO ST"),t("th",{scope:"col"},"NO SPPD"),t("th",{scope:"col"},"Jumlah Pegawai"),t("th",{scope:"col",class:"text-center"},"Action")])],-1),L={key:0},O=["textContent"],$={key:0},j={key:1},F=["textContent"],H={class:"text-center"},M=["onClick"],q=t("button",{class:"btn-sm btn-warning me-2 btn"},"Edit",-1),z={key:1},A={colspan:"4",class:"text-center"},n="delegasiPegawai",Y={__name:"MainDelegasiViews",setup(G){const i=v(),l=h([]),r=h(!0);x(async()=>{console.log("onmounted delegasi"),l.value=await i.fetchData(n),r.value=!r.value});const D=async u=>{if((await C.fire({title:`Hapus Data ${n}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",cancelButtonColor:"red"})).isConfirmed)try{await i.deleteItemById(n,u)?(d.fire({icon:"success",title:`Data ${n} berhasil dihapus`}),l.value=await i.fetchData(n)):d.fire({icon:"error",title:"Gagal menghapus data"})}catch(o){console.error("Error deleting item:",o),d.fire({icon:"error",title:"Terjadi kesalahan saat menghapus data"})}};return(u,y)=>{const o=T("router-link");return a(),e("div",w,[t("div",B,[I,m(o,{to:{name:"addDelegasi"},class:"btn btn-primary mb-4"},{default:b(()=>[f("Tambah Data")]),_:1}),t("div",N,[t("table",V,[E,l.value.length>0?(a(),e("tbody",L,[(a(!0),e(g,null,p(l.value,(s,k)=>(a(),e("tr",{key:k},[t("td",{textContent:c(s.noST.noST)},null,8,O),t("td",null,[s.noSPPD.length?(a(),e("div",$,[(a(!0),e(g,null,p(s.noSPPD,(_,S)=>(a(),e("span",{class:P(["text-bg-dark py-2","badge fs-1 me-2"]),key:S},c(_.noSPPD),1))),128))])):(a(),e("div",j,"Kosong"))]),t("td",{textContent:c(s.pegawai.length+" Orang")},null,8,F),t("td",H,[t("button",{class:"btn-danger btn me-2 btn-sm",onClick:_=>D(s.id)}," Hapus ",8,M),q,m(o,{to:{name:"detailDelegasi",params:{noST:s.noST.noST}},class:"btn-sm btn-info btn"},{default:b(()=>[f("Detail")]),_:2},1032,["to"])])]))),128))])):(a(),e("tbody",z,[t("tr",null,[t("td",A,c(r.value?"Loading Data...":"Data masih kosong"),1)])]))])])])])}}};export{Y as default};
