import{f as B,h as c,g as H,A as P,c as n,a as e,l as o,v as s,F as w,y as D,m as d,t as m,x as v,o as i}from"./index-BiqgLZ_U.js";const j={class:"card"},R=e("h4",{class:"card-header fw-bold text-dark"},"Form Pendelegasian Pegawai",-1),L={class:"card-body"},z={class:"accordion accordion-flush",id:"accordionFlushExample"},O={class:"accordion-item"},A=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button px-0 bg-transparent text-dark fw-bold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"true","aria-controls":"flush-collapseOne"},[e("span",{class:"rounded-circle fs-1 text-bg-primary me-2 d-flex justify-content-center align-items-center",style:{width:"25px",height:"25px"}},"1"),d(" Pilih Nomor ST ")])],-1),F={id:"flush-collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#accordionFlushExample"},E={class:"accordion-body px-0"},I={key:0,class:"list-group"},J=["onClick"],$={key:0},K=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-check text-success"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})],-1),q=[K],G={key:1,class:"text-center"},Q={class:"accordion-item"},W=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button px-0 bg-transparent text-dark fw-bold collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo"},[e("span",{class:"rounded-circle fs-1 text-bg-primary me-2 d-flex justify-content-center align-items-center",style:{width:"25px",height:"25px"}},"2"),d(" Pilih Nomor SPPD "),e("sup",{class:"text-info ms-1"},"*Opsional")])],-1),X={id:"flush-collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},Y={class:"accordion-body px-0"},Z={key:0,class:"list-group"},ee=["onClick"],ae={key:0},le=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-check text-success"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})],-1),te=[le],oe={key:1,class:"text-center"},se={class:"accordion-item"},ne=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button px-0 bg-transparent text-dark fw-bold collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseThree","aria-expanded":"false","aria-controls":"flush-collapseThree"},[e("span",{class:"rounded-circle fs-1 text-bg-primary me-2 d-flex justify-content-center align-items-center",style:{width:"25px",height:"25px"}},"3"),d(" Pilih Pegawai ")])],-1),ie={id:"flush-collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},re={class:"accordion-body px-0"},ce={key:0,class:"list-group"},de=["onClick"],ue={key:0},pe=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-check text-success"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})],-1),me=[pe],he={key:1,class:"text-center"},ve={key:0,class:"card mt-4",ref:"reviewSection"},be=e("h4",{class:"card-header fw-bold text-dark"},"Review Pilihan",-1),_e={class:"card-body"},fe=e("strong",null,"NO ST",-1),ge=e("strong",null,"NO SPPD",-1),ye=e("strong",null,"Nama Pegawai",-1),ke={class:"mt-4"},xe=e("h5",{class:"mb-3"},"Input Biaya Sarana dan Prasarana",-1),Pe={class:"mb-3"},we=e("label",{for:"hotelName",class:"form-label"},"Nama Hotel/Penginapan",-1),De={class:"mb-3"},Te=e("label",{for:"hotelVoucher",class:"form-label"},"No Voucher/Invoice Hotel",-1),Se={class:"mb-3"},Ve=e("label",{for:"transportationType",class:"form-label"},"Transportasi",-1),Ne={class:"mb-3"},Ce=e("label",{for:"bookingCode",class:"form-label"},"Kode Booking Transportasi",-1),Me={class:"mb-3"},Ue=e("label",{for:"seatNumber",class:"form-label"},"Nomor Kursi",-1),Be={class:"mb-3"},He=e("label",{for:"pricePP",class:"form-label"},"Harga PP",-1),je={class:"mb-3"},Re=e("label",{for:"priceDeparture",class:"form-label"},"Harga Tiket Berangkat",-1),Le={class:"mb-3"},ze=e("label",{for:"priceReturn",class:"form-label"},"Harga Tiket Pulang",-1),Oe={class:"mb-3"},Ae=e("label",{for:"totalPrice",class:"form-label"},"Total Harga",-1),Fe={class:"mb-3"},Ee=e("label",{for:"rate",class:"form-label"},"Tarif Satuan Penginapan",-1),Ie={class:"mb-3"},Je=e("label",{for:"numDays",class:"form-label"},"Jumlah Hari/Malam",-1),$e={class:"mb-3"},Ke=e("label",{for:"totalAccommodation",class:"form-label"},"Jumlah Harga Penginapan",-1),qe={class:"mb-3"},Ge=e("label",{for:"dailyRate",class:"form-label"},"Satuan Uang Harian (Rp)",-1),Qe={class:"mb-3"},We=e("label",{for:"dailyNumDays",class:"form-label"},"Jumlah Hari",-1),Xe={class:"mb-3"},Ye=e("label",{for:"totalDaily",class:"form-label"},"Total Uang Harian",-1),aa={__name:"AddDelegasiViews",setup(Ze){const b=B(),_=c([]),f=c([]),g=c([]);H(async()=>{try{_.value=await b.fetchData("suratTugas"),f.value=await b.fetchData("sppd"),g.value=await b.fetchData("pegawai")}catch(r){console.error("Error fetching data from IDB:",r)}});const y=c(""),k=c(""),x=c(""),h=c(null),p=c([]),u=c([]),T=P(()=>_.value.length?_.value.filter(r=>r.noST.toLowerCase().includes(y.value.toLowerCase())):[]),S=P(()=>f.value.length?f.value.filter(r=>r.noSPPD.toLowerCase().includes(k.value.toLowerCase())):[]),V=P(()=>g.value.length?g.value.filter(r=>r.namaPegawai.toLowerCase().includes(x.value.toLowerCase())):[]),C=r=>{h.value=r},M=r=>{const l=p.value.indexOf(r);l>-1?p.value.splice(l,1):p.value.push(r)},U=r=>{const l=u.value.indexOf(r);l>-1?u.value.splice(l,1):u.value.push(r)},t=c({hotelName:"",hotelVoucher:"",transportationType:"",bookingCode:"",seatNumber:"",pricePP:0,priceDeparture:0,priceReturn:0,totalPrice:0,rate:0,numDays:0,totalAccommodation:0,dailyRate:0,dailyNumDays:0,totalDaily:0});return(r,l)=>(i(),n("div",null,[e("div",j,[R,e("div",L,[e("div",z,[e("div",O,[A,e("div",F,[e("div",E,[o(e("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>y.value=a),class:"form-control mb-3",type:"text",placeholder:"Cari ST..."},null,512),[[s,y.value]]),T.value.length?(i(),n("ul",I,[(i(!0),n(w,null,D(T.value,a=>(i(),n("li",{key:a.id,class:"list-group-item d-flex justify-content-between align-items-center",onClick:N=>C(a),style:{cursor:"pointer"}},[d(m(a.noST)+" ",1),h.value===a?(i(),n("span",$,q)):v("",!0)],8,J))),128))])):(i(),n("div",G,"Loading"))])])]),e("div",Q,[W,e("div",X,[e("div",Y,[o(e("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>k.value=a),class:"form-control mb-3",type:"text",placeholder:"Cari SPPD..."},null,512),[[s,k.value]]),S.value.length?(i(),n("ul",Z,[(i(!0),n(w,null,D(S.value,a=>(i(),n("li",{key:a.id,class:"list-group-item d-flex justify-content-between align-items-center",onClick:N=>M(a),style:{cursor:"pointer"}},[d(m(a.noSPPD)+" ",1),p.value.includes(a)?(i(),n("span",ae,te)):v("",!0)],8,ee))),128))])):(i(),n("div",oe,"Loading"))])])]),e("div",se,[ne,e("div",ie,[e("div",re,[o(e("input",{"onUpdate:modelValue":l[2]||(l[2]=a=>x.value=a),class:"form-control mb-3",type:"text",placeholder:"Cari Pegawai..."},null,512),[[s,x.value]]),V.value.length?(i(),n("ul",ce,[(i(!0),n(w,null,D(V.value,a=>(i(),n("li",{key:a.id,class:"list-group-item d-flex justify-content-between align-items-center",onClick:N=>U(a),style:{cursor:"pointer"}},[d(m(a.namaPegawai)+" ",1),u.value.includes(a)?(i(),n("span",ue,me)):v("",!0)],8,de))),128))])):(i(),n("div",he,"Loading"))])])])])])]),h.value&&u.value.length?(i(),n("div",ve,[be,e("div",_e,[e("p",null,[fe,d(" : "+m(h.value?h.value.noST:"Belum ada"),1)]),e("p",null,[ge,d(" : "+m(p.value.length?p.value.map(a=>a.noSPPD).join(", "):"Belum ada"),1)]),e("p",null,[ye,d(" : "+m(u.value.length?u.value.map(a=>a.namaPegawai).join(", "):"Belum ada"),1)]),e("div",ke,[xe,e("div",Pe,[we,o(e("input",{"onUpdate:modelValue":l[3]||(l[3]=a=>t.value.hotelName=a),type:"text",class:"form-control",id:"hotelName",placeholder:"Masukkan nama hotel/penginapan"},null,512),[[s,t.value.hotelName]])]),e("div",De,[Te,o(e("input",{"onUpdate:modelValue":l[4]||(l[4]=a=>t.value.hotelVoucher=a),type:"text",class:"form-control",id:"hotelVoucher",placeholder:"Masukkan no voucher/invoice hotel"},null,512),[[s,t.value.hotelVoucher]])]),e("div",Se,[Ve,o(e("input",{"onUpdate:modelValue":l[5]||(l[5]=a=>t.value.transportationType=a),type:"text",class:"form-control",id:"transportationType",placeholder:"Masukkan jenis transportasi"},null,512),[[s,t.value.transportationType]])]),e("div",Ne,[Ce,o(e("input",{"onUpdate:modelValue":l[6]||(l[6]=a=>t.value.bookingCode=a),type:"text",class:"form-control",id:"bookingCode",placeholder:"Masukkan kode booking"},null,512),[[s,t.value.bookingCode]])]),e("div",Me,[Ue,o(e("input",{"onUpdate:modelValue":l[7]||(l[7]=a=>t.value.seatNumber=a),type:"text",class:"form-control",id:"seatNumber",placeholder:"Masukkan nomor kursi"},null,512),[[s,t.value.seatNumber]])]),e("div",Be,[He,o(e("input",{"onUpdate:modelValue":l[8]||(l[8]=a=>t.value.pricePP=a),type:"number",class:"form-control",id:"pricePP",placeholder:"Masukkan harga PP"},null,512),[[s,t.value.pricePP]])]),e("div",je,[Re,o(e("input",{"onUpdate:modelValue":l[9]||(l[9]=a=>t.value.priceDeparture=a),type:"number",class:"form-control",id:"priceDeparture",placeholder:"Masukkan harga tiket berangkat"},null,512),[[s,t.value.priceDeparture]])]),e("div",Le,[ze,o(e("input",{"onUpdate:modelValue":l[10]||(l[10]=a=>t.value.priceReturn=a),type:"number",class:"form-control",id:"priceReturn",placeholder:"Masukkan harga tiket pulang"},null,512),[[s,t.value.priceReturn]])]),e("div",Oe,[Ae,o(e("input",{"onUpdate:modelValue":l[11]||(l[11]=a=>t.value.totalPrice=a),type:"number",class:"form-control",id:"totalPrice",placeholder:"Masukkan total harga"},null,512),[[s,t.value.totalPrice]])]),e("div",Fe,[Ee,o(e("input",{"onUpdate:modelValue":l[12]||(l[12]=a=>t.value.rate=a),type:"number",class:"form-control",id:"rate",placeholder:"Masukkan tarif satuan penginapan"},null,512),[[s,t.value.rate]])]),e("div",Ie,[Je,o(e("input",{"onUpdate:modelValue":l[13]||(l[13]=a=>t.value.numDays=a),type:"number",class:"form-control",id:"numDays",placeholder:"Masukkan jumlah hari/malam"},null,512),[[s,t.value.numDays]])]),e("div",$e,[Ke,o(e("input",{"onUpdate:modelValue":l[14]||(l[14]=a=>t.value.totalAccommodation=a),type:"number",class:"form-control",id:"totalAccommodation",placeholder:"Masukkan jumlah harga penginapan"},null,512),[[s,t.value.totalAccommodation]])]),e("div",qe,[Ge,o(e("input",{"onUpdate:modelValue":l[15]||(l[15]=a=>t.value.dailyRate=a),type:"number",class:"form-control",id:"dailyRate",placeholder:"Masukkan satuan uang harian"},null,512),[[s,t.value.dailyRate]])]),e("div",Qe,[We,o(e("input",{"onUpdate:modelValue":l[16]||(l[16]=a=>t.value.dailyNumDays=a),type:"number",class:"form-control",id:"dailyNumDays",placeholder:"Masukkan jumlah hari"},null,512),[[s,t.value.dailyNumDays]])]),e("div",Xe,[Ye,o(e("input",{"onUpdate:modelValue":l[17]||(l[17]=a=>t.value.totalDaily=a),type:"number",class:"form-control",id:"totalDaily",placeholder:"Masukkan total uang harian"},null,512),[[s,t.value.totalDaily]])])])])],512)):v("",!0)]))}};export{aa as default};
